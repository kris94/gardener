kind: TestDefinition
metadata:
  name: create-seed
spec:
  owner: gardener-oq@listserv.sap.com
  description: Tests the creation of a seed.
  activeDeadlineSeconds: 7200

  command: [bash, -c]
  args:
  - >-
    go test -timeout=0 -mod=vendor ./test/system/seed_creation
    --v -ginkgo.v -ginkgo.progress -ginkgo.noColor
   -kubecfg=$SHOOT_KUBECONFIG \
   -seed-name=$SEED_NAME \
   -ingress-domain=$INGRESS_DOMAIN \
   -existing-seed-secret-ref-name=$SECRET_REF_NAME \
   -existing-seed-secret-ref-name-namespace=$SECRET_REF_NAMESPACE \
   -seed-secret-name=$NEW_SECRET_NAME \
   -seed-secret-namespace=$NEW_SECRET_NAMESPACE \
   -backup-secret-name=$BACKUP_SECRET_NAME \
   -backup-secret-namespace=$BACKUP_SECRET_NAMESPACE \
   -backup-secret-provider=$BACKUP_SECRET_PROVIDER \
   -shoot-name=$SHOOTED_SEED_NAME \
   -shoot-namespace=$SHOOTED_SEED_NAMESPACE \
   -shoot-kubecfg=$SHOOTED_SEED_KCFG \
   -provider-type=$PROVIDER_TYPE \
   -provider-region=$PROVIDER_REGION \
   -network-default-services=$NETWORK_DEFAULT_SERVICES \
   -network-default-pods=$NETWORK_DEFAULT_PODS \
   -network-blockcidrs=$NETWORK_BLOCKCIDRS \

  image: golang:1.13.4
